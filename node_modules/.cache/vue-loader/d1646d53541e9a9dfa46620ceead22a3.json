{"remainingRequest":"D:\\all_project\\WarmSearch-PC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\all_project\\WarmSearch-PC\\src\\views\\Login\\index.vue?vue&type=style&index=0&id=aeba673c&lang=scss&scoped=true&","dependencies":[{"path":"D:\\all_project\\WarmSearch-PC\\src\\views\\Login\\index.vue","mtime":1646550207549},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG9naW4gewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBvdmVyZmxvdzogdmlzaWJsZTsKICBiYWNrZ3JvdW5kOiAjZWRlZGVkOwogIC5ib3ggewogICAgd2lkdGg6IDQ1MHB4OwogICAgYm9yZGVyOiAxcHggc29saWQgI2RhZGFkYTsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDIwMHB4OwogICAgbGVmdDogNTAlOwogICAgcGFkZGluZzogNTBweCA1MHB4IDUwcHggMTBweDsKICAgIG1hcmdpbi1sZWZ0OiAtMjI1cHg7CiAgICBib3gtc2hhZG93OiAwIDlweCAzMHB4IC02cHggcmdiYSgwLCAwLCAwLCAwLjIpLAogICAgMCAxOHB4IDIwcHggLTEwcHggcmdiYSgwLCAwLCAwLCAwLjA0KSwKICAgIDAgMThweCAyMHB4IC0xMHB4IHJnYmEoMCwgMCwgMCwgMC4wNCksCiAgICAwIDEwcHggMjBweCAtMTBweCByZ2JhKDAsIDAsIDAsIDAuMDQpOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9ybSB7CiAgICAgIG1hcmdpbi10b3A6IDMwcHg7CiAgICB9CiAgICBzcGFuIHsKICAgICAgY29sb3I6ICMzMzM7CiAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<!--\n * @Description: 登录页面\n * @Author: lijinghailjh@163.com\n * @Date: 2021/3/7\n -->\n<template>\n  <div class=\"login\">\n    <div class=\"box\">\n      <span>使用账号 登录官网</span>\n      <el-form\n          :model=\"ruleForm\"\n          status-icon\n          :rules=\"rules\"\n          ref=\"ruleForm\"\n          label-width=\"100px\"\n          class=\"demo-ruleForm\"\n      >\n        <el-form-item label=\"账号\" prop=\"username\">\n          <el-input type=\"text\" v-model=\"ruleForm.username\" autocomplete=\"off\" placeholder=\"请输入账号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\" placeholder=\"请输入密码\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button  type=\"primary\" @click=\"submitForm('ruleForm')\" :plain=\"true\" >登录</el-button>\n            <el-button @click=\"returnhome\">返回</el-button>\n        </el-form-item>\n      </el-form>\n      <a href=\"/registere\" style=\"padding-left:312px\">新用户注册</a>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { setStore } from '@/utils/storage'\nexport default {\n  data() {\n    let validateUser = (rule,value,callback) => {\n      if(value===''){\n        callback(new Error('请输入账号'))\n      }else {\n        callback();\n      }\n    };\n    let validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      ruleForm: {\n        username:'',\n        password:''\n      },\n      rules: {\n        username: [{ validator: validateUser, trigger: \"blur\" }],\n        password: [{ validator: validatePass, trigger: \"blur\" }]\n      },\n    }\n  },\n  methods:{\n    returnhome(){\n      this.$message({\n        showClose: true,\n        message: '风里雨里，我们都在这等您回来，欢迎您的下次使用',\n        type: 'success'\n      });\n      this.$router.replace('/');\n    },\n    submitForm(formName) {\n      this.$message({\n        showClose: true,\n        message: '真诚的希望我们的平台可以帮助到您',\n        type: 'success'\n      });\n      this.$refs[formName].validate(async valid => {\n        if (valid) {\n          //   获取用户名和密码\n          // let {user,pass} = this.ruleForm;\n          let res = await this.$http.post('/pcuser/login',this.ruleForm);\n          console.log(res);\n          if (res.data.code === 20000) {\n            let { username, token } = res.data.data;\n\n            this.$router.push({\n              name: \"home\"\n            })\n\n\n            //  持久化 存储\n            setStore(\"token\", token);\n            setStore(\"username\", username);\n            // console.log(this.cart);\n\n            // if (this.cart && this.cart.length) {\n            //   this.cart.forEach(async item => {\n            //     let res = await this.$http.post(\"/api/addCart\", item);\n            //     if (res.data.success === true) {\n            //       //.......\n            //     }\n            //     removeStore(\"buyCart\");\n            //     this.$router.push({ path: \"/\" });\n            //   });\n            // } else {\n            //   this.$router.push({path: \"/\"});\n            // }\n          }\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  position: relative;\n  overflow: visible;\n  background: #ededed;\n  .box {\n    width: 450px;\n    border: 1px solid #dadada;\n    border-radius: 10px;\n    position: absolute;\n    top: 200px;\n    left: 50%;\n    padding: 50px 50px 50px 10px;\n    margin-left: -225px;\n    box-shadow: 0 9px 30px -6px rgba(0, 0, 0, 0.2),\n    0 18px 20px -10px rgba(0, 0, 0, 0.04),\n    0 18px 20px -10px rgba(0, 0, 0, 0.04),\n    0 10px 20px -10px rgba(0, 0, 0, 0.04);\n    text-align: center;\n    form {\n      margin-top: 30px;\n    }\n    span {\n      color: #333;\n      font-weight: 400;\n    }\n  }\n}\n</style>\n"]}]}