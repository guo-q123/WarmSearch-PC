{"remainingRequest":"D:\\all_project\\WarmSearch-PC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\all_project\\WarmSearch-PC\\src\\views\\Attestation\\index.vue?vue&type=style&index=0&id=4dc93889&scoped=true&lang=css&","dependencies":[{"path":"D:\\all_project\\WarmSearch-PC\\src\\views\\Attestation\\index.vue","mtime":1646550207544},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5uYXZ7CiAgdGV4dC1hbGlnbjpjZW50ZXI7Cn0KLm5hdl8xewogIGZvbnQtc2l6ZToyNXB4OwogIGNvbG9yOiAjMDA4OGZmOwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9Ci5uYXZfMnsKICBmb250LXNpemU6MjBweDsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Attestation","sourcesContent":["<!--\n * @Description: 用户认证信息页面\n * @Author: lijinghailjh@163.com\n * @Date: 2021/5/7\n -->\n<template>\n\n  <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n    <el-form-item label=\" \" class=\"nav\">\n      <span class=\"nav_1\">广而告之:</span>\n      <span class=\"nav_2\"> 很高兴我的平台可以帮到您,为了防止恶意认领现象的发生请登录您的信息，还望谅解！</span>\n    </el-form-item>\n\n    <el-form-item label=\"被认领的物品名称\" prop=\"goodsName\" label-width=\"150px\">\n        <el-input v-model=\"ruleForm.goodsName\"></el-input>\n    </el-form-item>\n\n    <el-form-item label=\"认领人的姓名\" prop=\"userName\" label-width=\"150px\">\n      <el-input v-model=\"ruleForm.userName\"></el-input>\n    </el-form-item>\n\n    <el-form-item label=\"认领人的联系方式\" prop=\"contact\" label-width=\"150px\">\n      <el-input v-model=\"ruleForm.contact\"></el-input>\n    </el-form-item>\n\n    <el-form-item label=\"认领人的学号/工号\" prop=\"number\" label-width=\"150px\">\n      <el-input v-model=\"ruleForm.number\"></el-input>\n    </el-form-item>\n\n    <el-form-item label=\"认领人的地址\" prop=\"address\" label-width=\"150px\">\n      <el-input v-model=\"ruleForm.address\"></el-input>\n    </el-form-item>\n\n\n    <el-form-item label=\"认领人的证件照\" prop=\"imgUrl\" label-width=\"150px\">\n\n      <el-upload\n          ref=\"upload\"\n          name=\"file\"\n          class=\"upload-demo\"\n          action=\"http://localhost:8091/upload\"\n          :on-success=\"beforeUpload\"\n          :on-remove=\"handleRemove\"\n          list-type=\"picture-card\"\n      >\n        <i slot=\"default\" class=\"el-icon-plus\"></i>\n        <div slot=\"file\" slot-scope=\"{file}\">\n          <img\n              class=\"el-upload-list__item-thumbnail\"\n              :src=\"file.url\" alt=\"\"\n          >\n          <span class=\"el-upload-list__item-actions\">\n        <span\n            class=\"el-upload-list__item-preview\"\n            @click=\"handlePictureCardPreview(file)\"\n        >\n          <i class=\"el-icon-zoom-in\"></i>\n        </span>\n        <span\n            v-if=\"!disabled\"\n            class=\"el-upload-list__item-delete\"\n            @click=\"handleDownload(file)\"\n        >\n          <i class=\"el-icon-download\"></i>\n        </span>\n        <span\n            v-if=\"!disabled\"\n            class=\"el-upload-list__item-delete\"\n            @click=\"handleRemove(file)\"\n        >\n          <i class=\"el-icon-delete\"></i>\n        </span>\n      </span>\n        </div>\n      </el-upload>\n      <el-dialog :visible.sync=\"dialogVisible\">\n        <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n      </el-dialog>\n\n    </el-form-item>\n\n    <el-form-item label-width=\"150px\">\n      <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">提交申请</el-button>\n      <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport axios from \"axios\";\n\n\nexport default {\n  data() {\n    return {\n      dialogImageUrl: '',\n      dialogVisible: false,\n      disabled: false,\n      ruleForm: {\n        goodsName: '',\n        userName: '',\n        contact: '',\n        number: '',\n        address: '',\n        imgUrl: ''\n      },\n      rules: {\n        userName: [\n          { required: true, message: '请输入被认领的物品名称', trigger: 'blur' },\n          { min: 1, max: 15, message: '长度在 1 到 15 个字符', trigger: 'blur' }\n        ],\n        goodsName: [\n          { required: true, message: '请输入认领人的姓名', trigger: 'blur' },\n          { min: 1, max: 15, message: '长度在 1 到 15 个字符', trigger: 'blur' }\n        ],\n        contact: [\n          { required: true, message: '请输入认领人的联系方式', trigger: 'blur' },\n          { min: 1, max: 15, message: '长度在 1 到 15 个字符', trigger: 'blur' }\n        ],\n        number: [\n          { required: true, message: '请输入认领人的学号/工号', trigger: 'blur' },\n          { min: 1, max: 15, message: '长度在 1 到 15 个字符', trigger: 'blur' }\n        ],\n        address: [\n          { required: true, message: '请输入认领人的地址', trigger: 'blur' },\n          { min: 1, max: 15, message: '长度在 1 到 15 个字符', trigger: 'blur' }\n        ],\n        imgUrl: [\n          { required: true, message: '请上传认领人的证件照', trigger: 'change' }\n        ],\n      }\n    };\n  },\n  methods: {\n    beforeUpload(file) {\n      this.ruleForm.imgUrl =file.url\n      console.log(file.url)\n    },\n    handleRemove(file) {\n      this.dialogImageUrl = file.url;\n      console.log(file.response.url)\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n      console.log(file.url)\n    },\n    handleDownload(file) {\n      this.dialogImageUrl = file.url;\n      console.log(file.url)\n    },\n\n    submitForm(formName) {\n\n      this.$refs[formName].validate((valid) => {\n\n\n\n        /* json格式提交： */\n        let formData = JSON.stringify(this.ruleForm);\n\n        axios({\n          method:\"post\",\n          url:\"/pcattestation/all\",\n          // cache: false,\n          headers: {\n            \"Content-Type\": \"application/json;charset=UTF-8\",\n            // processData: false, //默认为true，默认情况下，发送的数据将被转换为对象，设为false不希望进行转换\n          },\n          withCredentials:true,\n          data:formData\n        }).then((res)=>{\n          console.log(res);\n        });\n\n\n        if (valid) {\n          alert('恭喜您领取到您的遗失物品，请静候我们的工作人员与您的联系');\n          this.$router.push({\n            name: \"home\"\n          })\n        } else {\n          alert('请按要求填写您的信息!!');\n          return false;\n        }\n      });\n    },\n    //对该表单项进行重置，将其值重置为初始值并移除校验结果\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n}\n</script>\n\n<style scoped>\n.nav{\n  text-align:center;\n}\n.nav_1{\n  font-size:25px;\n  color: #0088ff;\n  font-weight: bold;\n}\n.nav_2{\n  font-size:20px;\n}\n</style>\n"]}]}