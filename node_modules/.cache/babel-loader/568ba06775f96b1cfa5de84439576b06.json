{"remainingRequest":"D:\\all_project\\WarmSearch-PC\\node_modules\\babel-loader\\lib\\index.js!D:\\all_project\\WarmSearch-PC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\all_project\\WarmSearch-PC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\all_project\\WarmSearch-PC\\node_modules\\vue-beautiful-chat\\src\\messages\\TextMessage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\vue-beautiful-chat\\src\\messages\\TextMessage.vue","mtime":1592039906000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgSWNvbkJhc2UgZnJvbSAnLi8uLi9jb21wb25lbnRzL0ljb25CYXNlLnZ1ZSc7CmltcG9ydCBJY29uRWRpdCBmcm9tICcuLy4uL2NvbXBvbmVudHMvaWNvbnMvSWNvbkVkaXQudnVlJzsKaW1wb3J0IEljb25Dcm9zcyBmcm9tICcuLy4uL2NvbXBvbmVudHMvaWNvbnMvSWNvbkNyb3NzLnZ1ZSc7CmltcG9ydCBlc2NhcGVHb2F0IGZyb20gJ2VzY2FwZS1nb2F0JzsKaW1wb3J0IEF1dG9saW5rZXIgZnJvbSAnYXV0b2xpbmtlcic7CmltcG9ydCBzdG9yZSBmcm9tICIuLy4uL3N0b3JlLyI7Cgp2YXIgZm10ID0gcmVxdWlyZSgnbXNnZG93bicpOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdG9yZTogc3RvcmUKICAgIH07CiAgfSwKICBwcm9wczogewogICAgbWVzc2FnZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbWVzc2FnZUNvbG9yczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbWVzc2FnZVN0eWxpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBzaG93RWRpdGlvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNob3dEZWxldGlvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG1lc3NhZ2VUZXh0OiBmdW5jdGlvbiBtZXNzYWdlVGV4dCgpIHsKICAgICAgdmFyIGVzY2FwZWQgPSBlc2NhcGVHb2F0LmVzY2FwZSh0aGlzLm1lc3NhZ2UuZGF0YS50ZXh0KTsKICAgICAgcmV0dXJuIEF1dG9saW5rZXIubGluayh0aGlzLm1lc3NhZ2VTdHlsaW5nID8gZm10KGVzY2FwZWQpIDogZXNjYXBlZCwgewogICAgICAgIGNsYXNzTmFtZTogJ2NoYXRMaW5rJywKICAgICAgICB0cnVuY2F0ZTogewogICAgICAgICAgbGVuZ3RoOiA1MCwKICAgICAgICAgIGxvY2F0aW9uOiAnc21hcnQnCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBtZTogZnVuY3Rpb24gbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2UuYXV0aG9yID09PSAnbWUnOwogICAgfSwKICAgIGlzRWRpdGluZzogZnVuY3Rpb24gaXNFZGl0aW5nKCkgewogICAgICByZXR1cm4gKHN0b3JlLmVkaXRNZXNzYWdlICYmIHN0b3JlLmVkaXRNZXNzYWdlLmlkKSA9PSB0aGlzLm1lc3NhZ2UuaWQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KCkgewogICAgICB0aGlzLnN0b3JlLmVkaXRNZXNzYWdlID0gdGhpcy5tZXNzYWdlOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgSWNvbkJhc2U6IEljb25CYXNlLAogICAgSWNvbkNyb3NzOiBJY29uQ3Jvc3MsCiAgICBJY29uRWRpdDogSWNvbkVkaXQKICB9Cn07"},{"version":3,"sources":["TextMessage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,QAAA,MAAA,8BAAA;AACA,OAAA,QAAA,MAAA,oCAAA;AACA,OAAA,SAAA,MAAA,qCAAA;AACA,OAAA,UAAA,MAAA,aAAA;AACA,OAAA,UAAA,MAAA,YAAA;AACA,OAAA,KAAA,MAAA,aAAA;;AACA,IAAA,GAAA,GAAA,OAAA,CAAA,SAAA,CAAA;;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,aAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KALA;AASA,IAAA,cAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,QAAA,EAAA;AAFA,KATA;AAaA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAbA;AAiBA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,QAAA,EAAA;AAFA;AAjBA,GANA;AA4BA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,UAAA,OAAA,GAAA,UAAA,CAAA,MAAA,CAAA,KAAA,OAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AAEA,aAAA,UAAA,CAAA,IAAA,CAAA,KAAA,cAAA,GAAA,GAAA,CAAA,OAAA,CAAA,GAAA,OAAA,EAAA;AACA,QAAA,SAAA,EAAA,UADA;AAEA,QAAA,QAAA,EAAA;AAAA,UAAA,MAAA,EAAA,EAAA;AAAA,UAAA,QAAA,EAAA;AAAA;AAFA,OAAA,CAAA;AAIA,KARA;AASA,IAAA,EATA,gBASA;AACA,aAAA,KAAA,OAAA,CAAA,MAAA,KAAA,IAAA;AACA,KAXA;AAYA,IAAA,SAZA,uBAYA;AACA,aAAA,CAAA,KAAA,CAAA,WAAA,IAAA,KAAA,CAAA,WAAA,CAAA,EAAA,KAAA,KAAA,OAAA,CAAA,EAAA;AACA;AAdA,GA5BA;AA4CA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,KAAA,CAAA,WAAA,GAAA,KAAA,OAAA;AACA;AAHA,GA5CA;AAiDA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,SAAA,EAAA,SAFA;AAGA,IAAA,QAAA,EAAA;AAHA;AAjDA,CAAA","sourcesContent":["<template>\n  <div class=\"sc-message--text\" :style=\"messageColors\">\n    <template>\n      <div class=\"sc-message--toolbox\" :style=\"{background: messageColors.backgroundColor}\">\n        <button v-if=\"showEdition && me && message.id != null && message.id != undefined\" @click=\"edit\" :disabled=\"isEditing\">\n          <icon-base :color=\"isEditing? 'black': messageColors.color\" width=\"10\" icon-name=\"edit\">\n            <icon-edit />\n          </icon-base>\n        </button>\n        <button v-if=\"showDeletion && me && message.id != null && message.id != undefined\" @click=\"$emit('remove')\">\n          <icon-base :color=\"messageColors.color\" width=\"10\" icon-name=\"remove\">\n            <icon-cross />\n          </icon-base>\n        </button>\n        <slot name=\"text-message-toolbox\" :message=\"message\" :me=\"me\">\n        </slot>\n      </div>\n    </template>\n    <slot :message=\"message\" :messageText=\"messageText\" :messageColors=\"messageColors\" :me=\"me\">\n      <p class=\"sc-message--text-content\" v-html=\"messageText\"></p>\n      <p v-if=\"message.data.meta\" class='sc-message--meta' :style=\"{color: messageColors.color}\">{{message.data.meta}}</p>\n      <p v-if=\"message.isEdited\" class='sc-message--edited'>\n        <icon-base width=\"10\" icon-name=\"edited\">\n          <icon-edit />\n        </icon-base> edited\n      </p>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport IconBase from './../components/IconBase.vue'\nimport IconEdit from './../components/icons/IconEdit.vue'\nimport IconCross from './../components/icons/IconCross.vue'\nimport escapeGoat from 'escape-goat'\nimport Autolinker from 'autolinker'\nimport store from \"./../store/\"\nconst fmt = require('msgdown')\n\nexport default {\n  data() {\n    return {\n      store\n    }\n  },\n  props: {\n    message:{\n      type: Object,\n      required: true\n    },\n    messageColors: {\n      type: Object,\n      required: true\n    },\n    messageStyling: {\n      type: Boolean,\n      required: true\n    },\n    showEdition: {\n      type: Boolean,\n      required: true\n    },\n    showDeletion: {\n      type: Boolean,\n      required: true\n    },\n  },\n  computed: {\n    messageText() {\n      const escaped = escapeGoat.escape(this.message.data.text)\n\n      return Autolinker.link(this.messageStyling ? fmt(escaped) : escaped, {\n        className: 'chatLink',\n        truncate: { length: 50, location: 'smart' }\n      })\n    },\n    me(){\n      return this.message.author === 'me';\n    },\n    isEditing() {\n      return (store.editMessage && store.editMessage.id) == this.message.id;\n    }\n  },\n  methods:{\n    edit() {\n      this.store.editMessage = this.message;\n    }\n  },\n  components:{\n    IconBase,\n    IconCross,\n    IconEdit\n  }\n}\n</script>\n\n<style scoped>\na.chatLink {\n  color: inherit !important;\n}\n</style>\n"],"sourceRoot":"node_modules/vue-beautiful-chat/src/messages"}]}