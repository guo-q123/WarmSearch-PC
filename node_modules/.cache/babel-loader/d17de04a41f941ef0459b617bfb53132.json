{"remainingRequest":"D:\\all_project\\WarmSearch-PC\\node_modules\\babel-loader\\lib\\index.js!D:\\all_project\\WarmSearch-PC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\all_project\\WarmSearch-PC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\all_project\\WarmSearch-PC\\src\\views\\Login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\all_project\\WarmSearch-PC\\src\\views\\Login\\index.vue","mtime":1646550207549},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\all_project\\WarmSearch-PC\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2FsbF9wcm9qZWN0L1dhcm1TZWFyY2gtUEMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBzZXRTdG9yZSB9IGZyb20gJ0AvdXRpbHMvc3RvcmFnZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHZhbGlkYXRlVXNlciA9IGZ1bmN0aW9uIHZhbGlkYXRlVXNlcihydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl6LSm5Y+3JykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgdmFyIHZhbGlkYXRlUGFzcyA9IGZ1bmN0aW9uIHZhbGlkYXRlUGFzcyhydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgcnVsZUZvcm06IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlVXNlciwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcmV0dXJuaG9tZTogZnVuY3Rpb24gcmV0dXJuaG9tZSgpIHsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfpo47ph4zpm6jph4zvvIzmiJHku6zpg73lnKjov5nnrYnmgqjlm57mnaXvvIzmrKLov47mgqjnmoTkuIvmrKHkvb/nlKgnLAogICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICB9KTsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy8nKTsKICAgIH0sCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+ecn+ivmueahOW4jOacm+aIkeS7rOeahOW5s+WPsOWPr+S7peW4ruWKqeWIsOaCqCcsCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgIH0pOwogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh2YWxpZCkgewogICAgICAgICAgdmFyIHJlcywgX3JlcyRkYXRhJGRhdGEsIHVzZXJuYW1lLCB0b2tlbjsKCiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5wb3N0KCcvcGN1c2VyL2xvZ2luJywgX3RoaXMucnVsZUZvcm0pOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDAwMCkgewogICAgICAgICAgICAgICAgICAgIF9yZXMkZGF0YSRkYXRhID0gcmVzLmRhdGEuZGF0YSwgdXNlcm5hbWUgPSBfcmVzJGRhdGEkZGF0YS51c2VybmFtZSwgdG9rZW4gPSBfcmVzJGRhdGEkZGF0YS50b2tlbjsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJob21lIgogICAgICAgICAgICAgICAgICAgIH0pOyAvLyAg5oyB5LmF5YyWIOWtmOWCqAoKCiAgICAgICAgICAgICAgICAgICAgc2V0U3RvcmUoInRva2VuIiwgdG9rZW4pOwogICAgICAgICAgICAgICAgICAgIHNldFN0b3JlKCJ1c2VybmFtZSIsIHVzZXJuYW1lKTsgLy8gY29uc29sZS5sb2codGhpcy5jYXJ0KTsKICAgICAgICAgICAgICAgICAgICAvLyBpZiAodGhpcy5jYXJ0ICYmIHRoaXMuY2FydC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAvLyAgIHRoaXMuY2FydC5mb3JFYWNoKGFzeW5jIGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIC8vICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCIvYXBpL2FkZENhcnQiLCBpdGVtKTsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAvLy4uLi4uLi4KICAgICAgICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vICAgICByZW1vdmVTdG9yZSgiYnV5Q2FydCIpOwogICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvIiB9KTsKICAgICAgICAgICAgICAgICAgICAvLyAgIH0pOwogICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogIi8ifSk7CiAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImVycm9yIHN1Ym1pdCEhIik7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,SAAA,QAAA,QAAA,iBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KANA;;AAOA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KANA;;AAOA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,CAAA;AAAA,UAAA,SAAA,EAAA,YAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CADA;AAEA,QAAA,QAAA,EAAA,CAAA;AAAA,UAAA,SAAA,EAAA,YAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AAFA;AALA,KAAA;AAUA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,QAAA,CAAA;AACA,QAAA,SAAA,EAAA,IADA;AAEA,QAAA,OAAA,EAAA,yBAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA;AAKA,WAAA,OAAA,CAAA,OAAA,CAAA,GAAA;AACA,KARA;AASA,IAAA,UATA,sBASA,QATA,EASA;AAAA;;AACA,WAAA,QAAA,CAAA;AACA,QAAA,SAAA,EAAA,IADA;AAEA,QAAA,OAAA,EAAA,kBAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA;AAKA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA;AAAA,2EAAA,iBAAA,KAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KADA;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAIA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,eAAA,EAAA,KAAA,CAAA,QAAA,CAJA;;AAAA;AAIA,kBAAA,GAJA;AAKA,kBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,sBAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,KAAA,EAAA;AAAA,qCACA,GAAA,CAAA,IAAA,CAAA,IADA,EACA,QADA,kBACA,QADA,EACA,KADA,kBACA,KADA;;AAGA,oBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,sBAAA,IAAA,EAAA;AADA,qBAAA,EAHA,CAQA;;;AACA,oBAAA,QAAA,CAAA,OAAA,EAAA,KAAA,CAAA;AACA,oBAAA,QAAA,CAAA,UAAA,EAAA,QAAA,CAAA,CAVA,CAWA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA/BA;AAAA;;AAAA;AAiCA,kBAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AAjCA,mDAkCA,KAlCA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA;AAsCA;AArDA;AA3BA,CAAA","sourcesContent":["<!--\n * @Description: 登录页面\n * @Author: lijinghailjh@163.com\n * @Date: 2021/3/7\n -->\n<template>\n  <div class=\"login\">\n    <div class=\"box\">\n      <span>使用账号 登录官网</span>\n      <el-form\n          :model=\"ruleForm\"\n          status-icon\n          :rules=\"rules\"\n          ref=\"ruleForm\"\n          label-width=\"100px\"\n          class=\"demo-ruleForm\"\n      >\n        <el-form-item label=\"账号\" prop=\"username\">\n          <el-input type=\"text\" v-model=\"ruleForm.username\" autocomplete=\"off\" placeholder=\"请输入账号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\" placeholder=\"请输入密码\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button  type=\"primary\" @click=\"submitForm('ruleForm')\" :plain=\"true\" >登录</el-button>\n            <el-button @click=\"returnhome\">返回</el-button>\n        </el-form-item>\n      </el-form>\n      <a href=\"/registere\" style=\"padding-left:312px\">新用户注册</a>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { setStore } from '@/utils/storage'\nexport default {\n  data() {\n    let validateUser = (rule,value,callback) => {\n      if(value===''){\n        callback(new Error('请输入账号'))\n      }else {\n        callback();\n      }\n    };\n    let validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      ruleForm: {\n        username:'',\n        password:''\n      },\n      rules: {\n        username: [{ validator: validateUser, trigger: \"blur\" }],\n        password: [{ validator: validatePass, trigger: \"blur\" }]\n      },\n    }\n  },\n  methods:{\n    returnhome(){\n      this.$message({\n        showClose: true,\n        message: '风里雨里，我们都在这等您回来，欢迎您的下次使用',\n        type: 'success'\n      });\n      this.$router.replace('/');\n    },\n    submitForm(formName) {\n      this.$message({\n        showClose: true,\n        message: '真诚的希望我们的平台可以帮助到您',\n        type: 'success'\n      });\n      this.$refs[formName].validate(async valid => {\n        if (valid) {\n          //   获取用户名和密码\n          // let {user,pass} = this.ruleForm;\n          let res = await this.$http.post('/pcuser/login',this.ruleForm);\n          console.log(res);\n          if (res.data.code === 20000) {\n            let { username, token } = res.data.data;\n\n            this.$router.push({\n              name: \"home\"\n            })\n\n\n            //  持久化 存储\n            setStore(\"token\", token);\n            setStore(\"username\", username);\n            // console.log(this.cart);\n\n            // if (this.cart && this.cart.length) {\n            //   this.cart.forEach(async item => {\n            //     let res = await this.$http.post(\"/api/addCart\", item);\n            //     if (res.data.success === true) {\n            //       //.......\n            //     }\n            //     removeStore(\"buyCart\");\n            //     this.$router.push({ path: \"/\" });\n            //   });\n            // } else {\n            //   this.$router.push({path: \"/\"});\n            // }\n          }\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  position: relative;\n  overflow: visible;\n  background: #ededed;\n  .box {\n    width: 450px;\n    border: 1px solid #dadada;\n    border-radius: 10px;\n    position: absolute;\n    top: 200px;\n    left: 50%;\n    padding: 50px 50px 50px 10px;\n    margin-left: -225px;\n    box-shadow: 0 9px 30px -6px rgba(0, 0, 0, 0.2),\n    0 18px 20px -10px rgba(0, 0, 0, 0.04),\n    0 18px 20px -10px rgba(0, 0, 0, 0.04),\n    0 10px 20px -10px rgba(0, 0, 0, 0.04);\n    text-align: center;\n    form {\n      margin-top: 30px;\n    }\n    span {\n      color: #333;\n      font-weight: 400;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/Login"}]}